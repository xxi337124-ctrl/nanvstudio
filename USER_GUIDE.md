# 📖 NOVA STUDIO 完整使用指南

> **版本**: v2.1
> **更新日期**: 2026-01-18
> **项目**: AI 可视化工作台 - 节点式内容生成系统

---

## 🎯 项目简介

**NOVA STUDIO** 是一个创新的 AI 内容生成可视化工作台，通过节点式编程的方式，让你轻松创建图像、视频、音频等多模态内容。

### 核心特性
- 🎨 **节点式工作流** - 拖拽节点，连接创意
- 🤖 **AI 驱动** - 集成 Google Gemini Veo 等先进模型
- 🎬 **专业视频生成** - 支持多种视频生成策略
- 🖼️ **图片生成与编辑** - 文生图、图生图
- 🎵 **音频生成** - AI 音乐与音效创作
- 💾 **自动保存** - 工作流本地存储

---

## 🎮 画布操作

### **移动画布** ✅

#### 方法 1：Shift + 左键拖拽 ⭐ 推荐
```
1. 按住 Shift 键不放
2. 按住鼠标左键拖动
3. 画布会跟随移动
```

#### 方法 2：空格键 + 左键拖拽
```
1. 按住空格键不放（光标变成 ✋）
2. 按住鼠标左键拖动
3. 画布会跟随移动
```

#### 方法 3：鼠标中键拖拽
```
1. 直接按住鼠标中键（滚轮按钮）
2. 拖动即可
```

### **缩放画布**
```
Ctrl + 滚轮向上 = 放大
Ctrl + 滚轮向下 = 缩小
```

### **光标状态**
| 状态 | 光标 | 说明 |
|------|------|------|
| 默认 | ↖️ | 普通模式 |
| 按住空格/Shift | ✋ grab | 可以拖拽 |
| 正在拖动 | ✊ grabbing | 移动中 |

---

## ⌨️ 快捷键大全

### **画布操作**
| 快捷键 | 功能 |
|--------|------|
| `Shift + 左键拖拽` | 移动画布 |
| `空格 + 左键拖拽` | 移动画布 |
| `鼠标中键拖拽` | 移动画布 |
| `Ctrl + 滚轮` | 缩放画布 |
| `滚轮` | 上下平移 |
| `Shift + 滚轮` | 左右平移 |

### **编辑操作**
| 快捷键 | 功能 |
|--------|------|
| `Ctrl+Z` | 撤销 |
| `Ctrl+Shift+Z` | 重做 |
| `Ctrl+C` | 复制选中节点 |
| `Ctrl+V` | 粘贴节点 |
| `Ctrl+X` | 剪切节点 |
| `Delete` | 删除选中节点 |
| `Ctrl+A` | 全选节点 |
| `Ctrl+D` | 取消选择 |
| `Ctrl+S` | 保存工作流 |
| `Esc` | 关闭弹窗/取消选择 |

---

## 🎨 节点类型

| 节点类型 | 功能 | 用途 |
|---------|------|------|
| **PROMPT_INPUT** | 提示词输入 | 输入创意描述 |
| **IMAGE_GENERATOR** | 图片生成 | 文生图、图生图 |
| **VIDEO_GENERATOR** | 视频生成 | 文生视频、图生视频 |
| **VIDEO_ANALYZER** | 视频分析 | 分析视频内容 |
| **IMAGE_EDITOR** | 图片编辑 | AI 编辑图片 |
| **AUDIO_GENERATOR** | 音频生成 | AI 音乐/音效创作 |

---

## 🎬 视频生成策略

### **四种生成模式**

#### 1️⃣ **StoryContinuator（剧情延展）**
- 从最后一帧继续故事
- 适合连续叙事

#### 2️⃣ **FrameWeaver（首尾插帧）**
- 在首尾帧之间插入帧
- 创造过渡动画

#### 3️⃣ **SceneDirector（局部分镜）**
- 场景切割与导演
- 专业镜头语言

#### 4️⃣ **CharacterRef（角色迁移）**
- 角色一致性
- 保持角色特征

---

## 🔧 功能面板

### **左侧栏**
- 📦 **节点调色板** - 添加各种节点
- 📁 **资产历史** - 查看生成的所有内容
- 💾 **工作流管理** - 保存/加载工作流
- 🔑 **API Key 设置** - 配置 Gemini API

### **右侧栏**
- 💬 **AI 助手** - 聊天式 AI 帮助
- 🎞️ **多帧编辑** - 批量视频编辑
- 🎵 **音频工作室** - 音乐音效生成

---

## 🚀 快速上手

### **第一次使用**

1. **设置 API Key**
   - 点击左侧栏的 "Google AI Studio" 按钮
   - 选择或添加你的 API Key

2. **创建第一个节点**
   - 点击左侧栏的 "文字生图" 或 "文生视频"
   - 在节点中输入创意描述

3. **生成内容**
   - 点击节点上的 "生成" 按钮
   - 等待 AI 生成

4. **连接节点**
   - 从一个节点的输出端口拖拽到另一个节点的输入端口
   - 创建数据流

5. **保存工作流**
   - 点击左侧栏的 "保存当前工作流"
   - 下次可以继续编辑

---

## 🎯 使用技巧

### **工作流设计最佳实践**

```
1. 从 PROMPT_INPUT 开始 - 输入核心创意
2. 连接到 IMAGE_GENERATOR - 生成参考图
3. 连接到 VIDEO_GENERATOR - 生成视频
4. 使用 VIDEO_ANALYZER - 分析结果
5. 根据需要调整参数和策略
```

### **高效操作技巧**

- **批量生成**: 设置 `count` 参数一次性生成多个版本
- **分辨率选择**: 根据需要选择不同分辨率
- **比例选择**: 支持多种画面比例 (1:1, 16:9, 9:16 等)
- **历史记录**: 所有生成的内容自动保存在资产历史中

### **性能优化建议**

- 使用 `Ctrl+S` 定期保存工作流
- 复用之前生成的内容，避免重复生成
- 合理使用分辨率，4k 需要更长时间
- 定期清理不需要的历史记录

---

## ⚙️ API 配置指南

### **支持的 AI 服务提供商**

NOVA STUDIO 支持多个 AI 服务提供商，让你可以根据需求选择最适合的模型：

#### 1️⃣ **Google AI Studio (Gemini)**
- **模型**: Gemini 2.5 Flash, Imagen 3.0, Veo 3.1
- **用途**: 图片生成、视频生成、文本生成
- **获取方式**: 访问 [Google AI Studio](https://aistudio.google.com/apikey)
- **配置**: 在设置中粘贴 API Key

#### 2️⃣ **OpenRouter (推荐)** ⭐
- **模型**: Google Gemini 2.5 Flash
- **用途**:
  - 📸 **图片生成** - Gemini 2.5 Flash Image
  - 🎬 **视频生成** - Gemini 2.5 Flash Image
  - 📝 **文本生成** - Gemini 2.5 Flash
- **获取方式**: 访问 [OpenRouter Keys](https://openrouter.ai/keys)
- **优势**:
  - ✅ 已预配置默认 Key（可直接使用）
  - ✅ 统一 API 接口
  - ✅ 支持多种模型切换
  - ✅ 更灵活的配额管理
- **文档**:
  - [文本生成 API](https://openrouter.ai/google/gemini-2.5-flash)
  - [图片生成 API](https://openrouter.ai/google/gemini-2.5-flash-image)

#### 3️⃣ **Pollo.ai (Wan 2.5)**
- **模型**: Wan 2.1 / Wan 2.5
- **用途**: 专业视频生成
- **获取方式**: 访问 [Pollo Dashboard](https://pollo.ai/dashboard/api-keys)
- **优势**: 高质量视频生成效果

### **配置步骤**

1. **打开设置面板**
   ```
   点击左侧栏底部的设置图标 (⚙️)
   ```

2. **配置 OpenRouter API Key (推荐)**
   - 输入你的 OpenRouter API Key
   - 或使用预配置的默认 Key
   - 点击"保存设置"
   - 系统会自动优先使用 OpenRouter 进行 Gemini 2.5 Flash 调用

3. **配置其他 API Key (可选)**
   - Pollo.ai Key: 用于 Wan 2.5 视频生成
   - 根据需求选择性配置

### **API 优先级规则**

系统会自动检测并按以下优先级选择 API:

```
1. OpenRouter (如果配置且模型是 Gemini 2.5 Flash)
   ├─ 图片生成: Gemini 2.5 Flash Image
   ├─ 视频生成: Gemini 2.5 Flash Image
   └─ 文本生成: Gemini 2.5 Flash

2. Google AI SDK (原始方式)
   └─ 使用 process.env.API_KEY

3. Pollo.ai (仅视频)
   └─ Wan 2.1 / Wan 2.5
```

### **错误处理**

如果 OpenRouter API 调用失败，系统会自动降级到 Google AI SDK，确保服务稳定性。

---

## ⚠️ 注意事项

### **API Key 使用**
- API Key 仅保存在浏览器本地存储
- 不会上传到 NOVA STUDIO 服务器
- 请妥善保管你的 API Key
- 注意查看 API 使用配额
- OpenRouter 默认 Key 有使用限制，建议使用自己的 Key

### **API Key 管理**
- **存储位置**: `localStorage`
- **存储键名**:
  - `openrouter_api_key` - OpenRouter API Key
  - `pollo_api_key` - Pollo.ai API Key
- **安全性**: 浏览器沙箱隔离，相对安全

### **内容生成**
- 生成时间取决于分辨率和复杂度
- 视频生成通常比图片生成慢
- 某些功能可能需要付费 API Key
- 生成内容受 AI 模型限制

### **数据存储**
- 工作流保存在浏览器 IndexedDB
- 建议定期导出备份
- 清除浏览器数据会丢失所有工作流

---

## 🐛 常见问题

### **Q: 画布移动不了？**
A: 确保使用 Shift+左键、空格+左键，或直接用鼠标中键拖动。

### **Q: 生成失败？**
A: 检查 API Key 是否正确，网络是否正常，余额是否充足。

### **Q: 视频生成很慢？**
A: 视频生成通常需要 1-3 分钟，请耐心等待。可以尝试降低分辨率。

### **Q: 节点连接不上？**
A: 确保从一个节点的输出端口（右侧）拖到另一个节点的输入端口（左侧）。

### **Q: 找不到之前生成的内容？**
A: 点击左侧栏的"资产历史"查看所有生成记录。

---

## 📞 技术支持

如有问题或建议，欢迎反馈！

---

**NOVA STUDIO** - 让 AI 创作更简单 🚀
